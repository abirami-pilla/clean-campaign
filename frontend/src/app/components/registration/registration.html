<div class="registration-container">
  <div class="form-card">
    <div class="form-header">
      <h2 class="form-title">Join a Clean Campaign</h2>
      <p class="form-subtitle">Make a difference in your community today!</p>
    </div>

    <div *ngIf="showSuccess" class="success-message" [@fadeIn]>
      <strong>üéâ Registration Successful!</strong>
      <p>Thank you for joining our clean campaign initiative. Together, we'll make our environment better!</p>
    </div>

    <form #registrationForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
      <!-- Name Field -->
      <div class="form-group">
        <label for="name">Full Name *</label>
        <input
          type="text"
          id="name"
          name="name"
          [(ngModel)]="userRegistration.name"
          class="form-control"
          [class.invalid]="hasError('name')"
          placeholder="Enter your full name"
          required>
        <span *ngIf="hasError('name')" class="error-message">{{ getError('name') }}</span>
      </div>

      <!-- Email Field -->
      <div class="form-group">
        <label for="email">Email Address *</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="userRegistration.email"
          class="form-control"
          [class.invalid]="hasError('email')"
          placeholder="Enter your email address"
          required>
        <span *ngIf="hasError('email')" class="error-message">{{ getError('email') }}</span>
      </div>

      <!-- Age Field -->
      <div class="form-group">
        <label for="age">Age *</label>
        <input
          type="number"
          id="age"
          name="age"
          [(ngModel)]="userRegistration.age"
          class="form-control"
          [class.invalid]="hasError('age')"
          placeholder="Enter your age"
          min="13"
          max="120"
          required>
        <span *ngIf="hasError('age')" class="error-message">{{ getError('age') }}</span>
      </div>

      <!-- Location Field -->
      <div class="form-group">
        <label for="location">Location *</label>
        <input
          type="text"
          id="location"
          name="location"
          [(ngModel)]="userRegistration.location"
          class="form-control"
          [class.invalid]="hasError('location')"
          placeholder="Enter your city/location"
          required>
        <span *ngIf="hasError('location')" class="error-message">{{ getError('location') }}</span>
      </div>

      <!-- Phone Field (Optional) -->
      <div class="form-group">
        <label for="phoneNumber">Phone Number (Optional)</label>
        <input
          type="tel"
          id="phoneNumber"
          name="phoneNumber"
          [(ngModel)]="userRegistration.phoneNumber"
          class="form-control"
          [class.invalid]="hasError('phoneNumber')"
          placeholder="Enter your phone number">
        <span *ngIf="hasError('phoneNumber')" class="error-message">{{ getError('phoneNumber') }}</span>
      </div>

      <!-- Campaign Selection -->
      <div class="form-group">
        <label for="campaignName">Select Campaign *</label>
        <select
          id="campaignName"
          name="campaignName"
          [(ngModel)]="userRegistration.campaignName"
          class="form-control campaign-select"
          [class.invalid]="hasError('campaignName')"
          required>
          <option value="">Choose a campaign to join...</option>
          <option *ngFor="let campaign of campaignOptions" [value]="campaign.value">
            {{ campaign.label }}
          </option>
        </select>
        <span *ngIf="hasError('campaignName')" class="error-message">{{ getError('campaignName') }}</span>
        
        <!-- Campaign Description -->
        <div *ngIf="getSelectedCampaign()" class="campaign-description" [@slideIn]>
          <div class="campaign-info">
            <span class="campaign-icon">üåü</span>
            <p>{{ getSelectedCampaign()?.description }}</p>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary submit-btn"
          [disabled]="isSubmitting"
          [class.loading]="isSubmitting">
          <span *ngIf="!isSubmitting">Register Now</span>
          <span *ngIf="isSubmitting" class="loading-text">
            <span class="spinner"></span>
            Registering...
          </span>
        </button>
        
        <button
          type="button"
          class="btn btn-secondary"
          (click)="resetForm()"
          [disabled]="isSubmitting">
          Clear Form
        </button>
      </div>

      <!-- Form Status -->
      <!-- <div class="form-status" *ngIf="Object.keys(formErrors).length > 0">
        <p class="error-summary">
          <strong>‚ö†Ô∏è Please fix the following errors:</strong>
        </p>
        <ul class="error-list">
          <li *ngFor="let error of formErrors | keyvalue">{{ error.value }}</li>
        </ul>
      </div> -->
    </form>
  </div>
</div>